<!-- Função Debounce -->

<input id="busca" placeholder="Digite Algo..." />
<script>
  function debounce(fn, delay) {
    let timer = null;
    // tempo p a execuição da função == inicialmente nulo

    return function (...args) {
      clearTimeout(timer);
      // limpa qquer timer ativo

      // novo timer --> começa a contar novamente do inicio
      timer = setTimeout(() => {
        fn.apply(this, args);
        // execução (ou re-execução) da função principal
        // ..args === argumentos da func princial (texto)
      }, delay);
      // delay--> tempo de espera(segurar) p execução de uma nova fn principal
    };
  }

  // Função principal --> aquela que quero que tenha seu tempo de execução e re-execução controlado
  function pesquisar(inputUsuario) {
    console.log('Buscando por: ', inputUsuario);
  }

  let pesquisaDebounced = debounce(pesquisar, 1000);

  document.getElementById('busca').addEventListener('input', (event) => {
    pesquisaDebounced(event.target.value);
  });
</script>
